(this["webpackJsonpnext-book"]=this["webpackJsonpnext-book"]||[]).push([[0],{32:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){},42:function(t,e,n){},67:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n(33),r=n.n(s),c=(n(39),n(2)),i=n(3),o=n(5),l=n(4),d=n(6),u=(n(40),n(8)),h=n.n(u),j=n(15),b=n(11),p=(n(42),n(9)),m=n.n(p),O=n(0),x=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={isLoggedIn:!1},t.componentDidMount=function(){m.a.get("/check/login",{withCredentials:!0}).then((function(e){200===e.status&&t.setState({isLoggedIn:!0})})).catch((function(t){return console.log(t)}))},t.handleLogout=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/api/logout").then((function(e){t.setState({isLoggedIn:!1})})).catch((function(t){return console.log(t)}));case 2:case"end":return e.stop()}}),e)}))),t}return Object(i.a)(n,[{key:"render",value:function(){return Object(O.jsx)("header",{children:Object(O.jsxs)("nav",{className:"navbar",children:[Object(O.jsxs)("ul",{id:"menu-left",children:[Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:"/",children:"Logo"})}),Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:"/",children:"Home"})}),Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:"/about",children:"About Us"})})]}),Object(O.jsxs)("ul",{id:"menu-right",children:[Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:"/register",children:"Register"})}),this.state.isLoggedIn?Object(O.jsx)("li",{onClick:this.handleLogout,children:Object(O.jsx)("a",{children:"Logout"})}):Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:"/login",children:"Sign In"})})]})]})})}}]),n}(a.Component),f=n(18),g=(n(67),n.p+"static/media/book1.8291d14e.jpg"),v=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={title:a.props.title,author:a.props.author,bookURL:a.props.cover_url,goodreads_rating:a.props.goodreads_rating,class_name:a.props.class_name},a}return Object(i.a)(n,[{key:"render",value:function(){return Object(O.jsx)("div",{className:"book-block",children:Object(O.jsxs)(b.b,{to:"/dt/".concat(this.props.id,"/").concat(this.props.book_section),children:[Object(O.jsx)("img",{alt:"imagcia",src:this.state.bookURL?this.state.bookURL:g}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:this.state.title}),Object(O.jsx)("h4",{children:this.state.author}),Object(O.jsx)("p",{children:"Stars  ("+this.state.goodreads_rating.$numberDecimal+"/5)"})]})]})})}}]),n}(a.Component),k=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).changeSlides=function(t,e){var n={start_index:a.state.start_index,slide_size:a.state.slide_size},s=null;"prev"===t&&(s=function(t,e,n){return e.start_index-t<=0?0:e.start_index-t}(e,n,a.state.arr.data.length)),"next"===t&&(s=function(t,e,n){return e.start_index+e.slide_size>=n?0:e.start_index+t}(e,n,a.state.arr.data.length)),a.setState({start_index:s})},a.componentDidMount=Object(j.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/api/get/books",{params:{name:a.props.name}}).then((function(t){var e=t.data;a.setState({arr:e,loading:!1})})).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t)}))),a.state={arr:[],loading:!0,start_index:0,slide_size:6},a.changeSlides=a.changeSlides.bind(Object(f.a)(a)),a}return Object(i.a)(n,[{key:"render",value:function(){var t=this;return Object(O.jsxs)("div",{className:"products-wrapper",children:[Object(O.jsx)("h2",{id:"title",children:this.props.title}),Object(O.jsxs)("div",{className:"items",children:[Object(O.jsx)("button",{className:"side-icons",id:"left_bt",onClick:function(){t.changeSlides("prev",1)},children:"\xab"}),Object(O.jsx)("button",{className:"side-icons",id:"right_bt",onClick:function(){t.changeSlides("next",1)},children:"\xbb"}),this.state.loading?Object(O.jsx)(O.Fragment,{children:"Loading...."}):this.state.arr.data?this.state.arr.data.slice(this.state.start_index,this.state.start_index+this.state.slide_size).map((function(e){return Object(O.jsx)(v,{id:e._id,title:e.title,author:e.author,cover_url:e.cover_url,goodreads_rating:e.goodreads_rating,book_section:t.props.name},e._id)})):Object(O.jsx)(O.Fragment,{children:"Loading...."})]})]})}}]),n}(a.Component),_=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{className:"body",children:[Object(O.jsx)(x,{}),Object(O.jsx)(w,{}),Object(O.jsx)(N,{}),Object(O.jsx)(y,{})]})}}]),n}(a.Component),w=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(O.jsx)("div",{id:"search-bar"})}}]),n}(a.Component),N=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("main",{className:"products",children:[Object(O.jsx)("nav",{className:"list-options",children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:"Most Rated Books"}),Object(O.jsx)("li",{children:"Best Selling Books"}),Object(O.jsx)("li",{children:"New Arrivals"})]})}),Object(O.jsx)(k,{title:"Most Rated Books",name:"MostRated"}),Object(O.jsx)(k,{title:"Best Selling Products",name:"BestSelling"}),Object(O.jsx)(k,{title:"New Products",name:"NewBooks"})]})}}]),n}(a.Component),y=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(O.jsx)("footer",{children:"Created By Shubham Jain"})}}]),n}(a.Component),S=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x,{}),Object(O.jsx)("h1",{children:"Hello From /about"})]})}}]),n}(a.Component),C=(n(32),function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).handleFirstName=function(t){a.setState({firstName:t.target.value})},a.handleLastName=function(t){a.setState({lastName:t.target.value})},a.handleEmail=function(t){a.setState({email:t.target.value})},a.handlePassword=function(t){a.setState({password:t.target.value})},a.handleErrors=function(t){console.log(t)},a.handleSubmit=function(){var t=Object(j.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),m.a.post("/api/register",{firstName:a.state.firstName,lastName:a.state.lastName,emailId:a.state.email,password:a.state.password}).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.state={redirect:null,email:"",password:"",firstName:"",lastName:"",errors:{email:"",password:"",lastName:"",firstName:""}},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this;m.a.get("/check").then((function(t){console.log(t.data.msg)})).catch((function(e){console.log(e.message),e.message.includes("status code 500")&&(console.log("Backend Server is closed"),t.setState({redirect:"/"}))})),m.a.get("/check/login",{withCredentials:!0}).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){return this.state.redirect?Object(O.jsx)(d.a,{to:this.state.redirect}):Object(O.jsxs)("div",{className:"body-c",children:[Object(O.jsx)(x,{}),Object(O.jsxs)("div",{id:"form-container",children:[Object(O.jsx)("h3",{children:"Register"}),Object(O.jsxs)("form",{id:"register-form",onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{value:this.state.firstName,type:"text",onChange:this.handleFirstName,placeholder:"Enter First name",className:"form-input"}),Object(O.jsx)("p",{id:"errors",children:this.state.errors.firstName}),Object(O.jsx)("input",{value:this.state.lastName,type:"text",onChange:this.handleLastName,placeholder:"Enter Last name",className:"form-input"}),Object(O.jsx)("p",{id:"errors",children:this.state.errors.lastName}),Object(O.jsx)("input",{value:this.state.email,type:"text",onChange:this.handleEmail,placeholder:"Enter Email",className:"form-input"}),Object(O.jsx)("p",{id:"errors",children:this.state.errors.email}),Object(O.jsx)("input",{value:this.state.password,type:"text",onChange:this.handlePassword,placeholder:"Enter Password",className:"form-input"}),Object(O.jsx)("p",{id:"errors",children:this.state.errors.password}),Object(O.jsx)("button",{id:"button",type:"submit",onClick:this.handleSubmit,children:"Register"})]}),Object(O.jsx)("h4",{children:"Already have an account? Sign In here "})]})]})}}]),n}(a.Component)),L=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).handleEmail=function(t){a.setState({email:t.target.value})},a.handlePassword=function(t){a.setState({password:t.target.value})},a.handleErrors=function(t){console.log(t)},a.handleSubmit=function(){var t=Object(j.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),m.a.post("/api/login",{emailId:a.state.email,password:a.state.password},{withCredentials:!0}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.state={redirect:null,email:"",password:"",errors:{email:"",password:""}},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){m.a.get("/check/login",{withCredentials:!0}).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){return this.state.redirect?Object(O.jsx)(d.a,{to:this.state.redirect}):Object(O.jsxs)("div",{className:"body-c",children:[Object(O.jsx)(x,{}),Object(O.jsxs)("div",{id:"form-container",children:[Object(O.jsx)("h3",{children:"Login"}),Object(O.jsxs)("form",{id:"register-form",onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{value:this.state.email,type:"text",onChange:this.handleEmail,placeholder:"Enter Email",className:"form-input"}),Object(O.jsx)("p",{id:"errors",children:this.state.errors.email}),Object(O.jsx)("input",{value:this.state.password,type:"text",onChange:this.handlePassword,placeholder:"Enter Password",className:"form-input"}),Object(O.jsx)("p",{id:"errors",children:this.state.errors.password}),Object(O.jsx)("button",{id:"button",type:"submit",onClick:this.handleSubmit,children:"Login"})]}),Object(O.jsx)("h4",{children:"Doesn't have an account? Sign up here "})]})]})}}]),n}(a.Component),E=(n(68),function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={book_data:null,loading:!0},t.componentDidMount=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.props),e.next=3,m.a.get("/api/get/details",{params:{id:t.props.match.params.bookId,name:t.props.match.params.bookSection}}).then((function(e){var n=e.data;t.setState({book_data:n.data,loading:!1})})).catch((function(t){console.log(t)}));case 3:case"end":return e.stop()}}),e)}))),t}return Object(i.a)(n,[{key:"render",value:function(){var t,e,n,a;return Object(O.jsxs)("div",{className:"bookDetail",children:[Object(O.jsx)(x,{}),Object(O.jsxs)("main",{className:"main",children:[Object(O.jsxs)("section",{className:"bookCover",children:[Object(O.jsx)("img",{alt:"Book Cover",src:null===(t=this.state.book_data)||void 0===t?void 0:t.cover_url}),this.state.loading?Object(O.jsx)(O.Fragment,{}):Object(O.jsx)(I,{book_data:this.state.book_data})]}),Object(O.jsxs)("section",{className:"authorInfo",children:[Object(O.jsx)("div",{className:"dummy_text",children:("About "+(null===(e=this.state.book_data)||void 0===e?void 0:e.author)).toUpperCase()}),Object(O.jsxs)("div",{className:"author_details",children:[Object(O.jsx)("img",{src:"https://s.gr-assets.com/assets/nophoto/user/f_111x148-8060b12280b2aec7543bafb574ee8422.png",className:"author-profile",alt:"Imagination"}),Object(O.jsx)("p",{children:null===(n=this.state.book_data)||void 0===n?void 0:n.author})]}),Object(O.jsx)("p",{children:null===(a=this.state.book_data)||void 0===a?void 0:a.author_works})]})]})]})}}]),n}(a.Component)),I=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props.book_data,e=t.title,n=t.small_title,a=t.author,s=t.goodreads_rating,r=t.total_ratings,c=t.summary;return Object(O.jsxs)("div",{className:"book-data",children:[console.log(this.props),Object(O.jsx)("h2",{children:e}),Object(O.jsx)("p",{className:"small_title",children:"("+n+")"}),Object(O.jsxs)("p",{className:"author_name",children:["by ",a]}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:"Stars  ("+s.$numberDecimal+"/5)"}),Object(O.jsx)("li",{children:"Ratings  ("+r+")"})]}),Object(O.jsx)("p",{id:"description",children:c})]})}}]),n}(a.Component),B=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{exact:!0,path:"/",component:_}),Object(O.jsx)(d.b,{path:"/about",component:S}),Object(O.jsx)(d.b,{path:"/register",component:C}),Object(O.jsx)(d.b,{path:"/login",component:L}),Object(O.jsx)(d.b,{path:"/dt/:bookId/:bookSection",component:E})]})}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(O.jsx)(b.a,{children:Object(O.jsx)(B,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[69,1,2]]]);
//# sourceMappingURL=main.c15be28a.chunk.js.map